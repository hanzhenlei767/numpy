<html>
<head>
  <title>三、numpy数组切片</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307934 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1095"/>
<h1>三、numpy数组切片</h1>

<div>
<span><div><span style="font-size: 16pt; font-family: 楷体;">三、</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">numpy数组切片</span></div><div><br/></div><div><span style="font-size: 16pt; font-family: 楷体;">#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">numpy</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">一维数组的索引与切片</span></div><div><span style="font-size: 16pt; font-family: 楷体;">arr = np.arange(9)#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">产生一维数组，左闭右开</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr)</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[0 1 2 3 4 5 6 7 8]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[3:7])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[3 4 5 6]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[2:7:2])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[2 4 6]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[::-1])#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">切片和list切片一样，支持负数</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[8 7 6 5 4 3 2 1 0]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">s = slice(3,7,1)#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">切片方法</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(type(s))</span></div><div><span style="font-size: 16pt; font-family: 楷体;">&lt;class 'slice'&gt;</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[s])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[3 4 5 6]</span></div><div><br/></div><div><span style="font-size: 16pt; font-family: 楷体;">#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">多维数组的切片与索引</span></div><div><span style="font-size: 16pt; font-family: 楷体;">arr = np.arange(24).reshape(2,3,4) #</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">将一维数组拆分成n维数组</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(type(arr))#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">多维数组也是ndarray类型</span></div><div><span style="font-size: 16pt; font-family: 楷体;">&lt;class 'numpy.ndarray'&gt;</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr)#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">3维数组</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[[ 0  1  2  3]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [ 4  5  6  7]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [ 8  9 10 11]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[12 13 14 15]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [16 17 18 19]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [20 21 22 23]]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[0,0,0])#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">多维数组元素访问</span></div><div><span style="font-size: 16pt; font-family: 楷体;">0</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[:2,0,0])#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">多维数组切片</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 0 12]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[0])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[ 0  1  2  3]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 4  5  6  7]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 8  9 10 11]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[0,:,:])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[ 0  1  2  3]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 4  5  6  7]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 8  9 10 11]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[0,...])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[ 0  1  2  3]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 4  5  6  7]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 8  9 10 11]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[ : : , : : , : : -1])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[[ 3  2  1  0]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [ 7  6  5  4]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [11 10  9  8]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[15 14 13 12]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [19 18 17 16]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">  [23 22 21 20]]]</span></div><div><br/></div><div><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">#布尔型索引（切片多维数组）</span></div><div><span style="font-size: 16pt; font-family: 楷体;">names = np.array(['Bob', 'Joe','Bob'])</span></div><div><span style="font-size: 16pt; font-family: 楷体;">data = np.random.randn(3,2) #</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">服从正态分布的3*2数据</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(data)</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[-1.28869682 -1.04594502]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[-1.1296705   0.25216742]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 0.73908662 -0.5525562 ]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(names)</span></div><div><span style="font-size: 16pt; font-family: 楷体;">['Bob' 'Joe' 'Bob']</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(names == 'Bob')</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ True False  True]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(data[</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">names == 'Bob'</span><span style="font-size: 16pt; font-family: 楷体;">,1:])#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">切片:逗号区分维度，分号表示切片。一维用布尔型索引切片</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[-1.04594502]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[-0.5525562 ]]</span></div><div><br/></div><div><br/></div><div><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">#花式索引</span></div><div><span style="font-size: 16pt; font-family: 楷体;">arr = np.empty((3, 2))</span></div><div><span style="font-size: 16pt; font-family: 楷体;">for i in range(3):</span></div><div><span style="font-size: 16pt; font-family: 楷体;">    arr[i] = i</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr)</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[ 0.  0.]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 1.  1.]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 2.  2.]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[[0, 2]]) #</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">选取下标维0,2的第一维度数据</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[ 0.  0.]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 2.  2.]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[[-1, -2]]) #</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">选取下标维N-1,N-2的第一维度数据</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[ 2.  2.]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[ 1.  1.]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">arr = np.arange(6).reshape((2, 3))#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">生成二维数组</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr)</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[[0 1 2]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[3 4 5]]</span></div><div><span style="font-size: 16pt; font-family: 楷体;">print(arr[[1], [0, 1]])#</span><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: 楷体;">二维数组用两个一维数组切片</span></div><div><span style="font-size: 16pt; font-family: 楷体;">[3 4]</span></div></span>
</div></body></html> 